"use strict";(self.webpackChunk_lp_front=self.webpackChunk_lp_front||[]).push([[972],{7825:(e,t,n)=>{n.d(t,{P:()=>l});var r=n(2784),a=n(2370),o=n(3557),i=n(5424);const l=()=>{const{notification:e,setNotification:t}=(0,r.useContext)(i.I),n=(0,o.TH)(),l=(0,r.useCallback)((()=>{t()}),[t]);return(0,r.useEffect)((()=>{const e=setTimeout(l,5e3);return()=>{clearTimeout(e)}}),[e,l]),(0,r.useEffect)((()=>{e?.targetLocation!==n.pathname&&t()}),[n.pathname]),r.createElement(r.Fragment,null,e&&r.createElement(a.P_,{"data-cy":`notification-${e?.variant}`,onClose:l,...e,className:"notification"}))}},7752:(e,t,n)=>{n.d(t,{X:()=>v});var r=n(2784),a=n(3557),o=n(4144);const i=[{url:"/",text:"Home",icon:"home"},{url:`/${o._.search}`,text:"Explore",icon:"explorer"},{url:`/${o._.words}`,text:"Vocabulary",icon:"brain"},{url:`/${o._.games}`,text:"Practice",icon:"dice"}],l=[{url:`/${o._.search}`,text:"Explore",icon:"explorer"},{url:`/${o._.words}`,text:"Vocabulary",icon:"brain"},{url:`/${o._.games}`,text:"Practice",icon:"dice"},{url:"/profile",text:"Profile",icon:"dragon"}],s=[{url:"/",text:"Home",icon:"home"},{url:`/${o._.search}`,text:"Explore",icon:"explorer"},{url:`/${o._.words}`,text:"Vocabulary",icon:"brain"},{url:`/${o._.games}`,text:"Practice",icon:"dice"}];var u=n(6525),c=n(2370),d=n(5424),m=n(7825),f=n(438);const p=[{text:"Review words",url:`/${o._.words}`},{text:"Look up words",url:`/${o._.search}`},{text:"Practice",url:`/${o._.games}`},{text:"Profile",url:`/${o._.profile}`}],v=({children:e,isLoading:t,noRedirect:n})=>{const{userId:v,logout:g,language:b,saveLanguage:x}=(0,r.useContext)(d.I),h=(0,a.s0)(),E=(0,a.TH)();(0,r.useEffect)((()=>{v||n||((0,f.x)("previousLocation",E.pathname),h("/sign-in"))}),[v,h,n,E.pathname]);const C=()=>{g(),h(`/${o._.signIn}`)};return r.createElement(r.Fragment,null,r.createElement("div",{className:"page"},r.createElement(m.P,null),v&&r.createElement(c.Er,{mobileNavLinks:l,navLinks:i,language:b,onLogout:C,userMenuItems:(_=C,[{url:`/${o._.profile}`,text:"Profile",icon:"dragon"},{onClick:_,text:"Logout",icon:"door"}]),onLanguageChange:e=>{x(e)}}),t?r.createElement(u.L,null):r.createElement("main",{className:"main"},e),v&&r.createElement(c.$_,{links:p,mobileLinks:s})));var _}},7971:(e,t,n)=>{n.d(t,{L:()=>d});var r,a=n(2784),o=n(2370);function i(e,t){const{type:n,payload:a}=t;return n===r.INPUT_CHANGE?{...e,...a}:e}!function(e){e.INPUT_CHANGE="INPUT_CHANGE"}(r||(r={}));var l=n(1074),s=n(5424),u=n(4144);const c={buttonContainer:"R_HWvLfhaFbeX5Dvjyeg",formFields:"rVyuUJMlkNPDIq7f_08Q",form:"IcBpe_0OSerB448WDzBb"};function d({initialValues:e,onSubmit:t,validators:n,formConfig:d,isLoading:m}){const[{values:f,changeHandler:p,validate:v}]=function(e,t){const[n,o]=(0,a.useReducer)(i,e),l=(0,a.useCallback)((e=>{o({type:r.INPUT_CHANGE,payload:e})}),[o]);return[{values:n,changeHandler:l,validate:()=>{let e=!0;const r={};return t?(Object.keys(t).forEach((a=>{const o=t[a];if(o){const t=o.validate(n[a]);e=e&&t,t||(r[a]=o.errorText)}})),{isValid:e,errors:r}):{isValid:e,errors:r}}}]}(e,n),[g,b]=(0,a.useState)({}),{language:x}=(0,a.useContext)(s.I),h=e=>function(t){p({[e]:t})};return a.createElement("form",{className:c.form,onSubmit:e=>{e.preventDefault();const{errors:n,isValid:r}=v();r&&t(f),b(n)},"data-cy":"wordForm"},a.createElement("div",{className:c.formFields},d.map((e=>{const{Component:t,name:n,label:r,props:o={},isDisabled:i,value:s}=e,u=f[n]||s;return a.createElement(t,{initialValue:u,dataCy:`formField-${n}`,key:n,withTranslation:"defs"===n&&x===l.SQ.Spanish,name:n,label:r||n,isDisabled:i,onChange:h(n),errorText:g[n],...o})}))),a.createElement("div",{className:c.buttonContainer},a.createElement(o.rU,{variant:"button",to:`/${u._.words}`},"Cancel"),a.createElement(o.zx,{variant:"secondary",type:"submit",isLoading:m},"Save")))}},8664:(e,t,n)=>{n.d(t,{Q0:()=>s,UE:()=>i,Ym:()=>l,_5:()=>o,tz:()=>u,ym:()=>a});var r=n(7834);const a=r.Ps`
  mutation Login($input: LoginInput!) {
    login(input: $input) {
      token
      id
    }
  }
`,o=r.Ps`
  mutation SignUp($input: SignUpInput!) {
    signUp(input: $input) {
      token
      id
    }
  }
`,i=r.Ps`
  mutation SaveWord($input: NewWordInput!) {
    saveWord(input: $input) {
      name
      uuid
    }
  }
`,l=r.Ps`
  mutation DeleteWord($deleteWordId: ID!) {
    deleteWord(id: $deleteWordId)
  }
`,s=r.Ps`
  mutation UpdateWord($input: UpdateWordInput!) {
    updateWord(input: $input) {
      name
    }
  }
`,u=r.Ps`
  mutation SaveGameResult($input: [UpdateStatisticsInput!]) {
    saveGameResult(input: $input)
  }
`},2972:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var r=n(2784),a=n(3557),o=n(2370);const i="mNDKNIZlxgV1Y70kva3a",l="EXs1pWb5xkcYk0_LodmY";var s=n(7752),u=n(7971),c=n(4144),d=n(5424),m=n(1074);const f={name:"",audioUrl:"",particle:"",transcription:"",defs:[{def:"",examples:[{text:"",translation:""}]}],imgUrl:"",imgDesc:"",shortDef:[],language:m.SQ.English,additionalInfo:"",stems:[],isOffensive:!1,level:m.aC.B1},p=[{Component:o.b0,name:"name"},{Component:o.n4,name:"level"},{Component:o.b0,name:"particle"},{Component:o.b0,name:"audioUrl",label:"audio url"},{Component:o.v9,name:"defs"},{Component:o.b0,name:"transcription"},{Component:o.qt,name:"shortDef",label:"short definition",props:{showOrderButtons:!0}},{Component:o.b0,name:"imgUrl",label:"image url"},{Component:o.qt,name:"stems",label:"word form"},{Component:o.b0,name:"imgDesc",label:"image description"},{Component:o.b0,name:"additionalInfo",label:"Additional information"},{Component:o.XZ,name:"isOffensive",props:{variant:"isOffensive"}}],v={defs:{validate:e=>!!Array.isArray(e)&&e.filter((e=>e?.def)).length>0,errorText:"word definition is required"},name:{validate:e=>e.length>0,errorText:"name is required"},particle:{validate:e=>e.length>0,errorText:"particle is required"},shortDef:{validate:e=>!!Array.isArray(e)&&e.filter(Boolean).length>0,errorText:"short definition is required"}};var g=n(4826),b=n(3379),x=n(8664);const h=()=>{const[e,t]=(0,b.D)(x.UE,{update(e){e.evict({fieldName:"game"}),e.evict({fieldName:"words"})}}),{setNotification:n,language:m}=(0,r.useContext)(d.I),h=(0,a.s0)();(0,r.useEffect)((()=>{t.error&&n({variant:"error",text:"Error",subText:t?.error?.message||"something went wrong"})}),[t.error]),(0,r.useEffect)((()=>{const{data:e}=t;if(e){const{name:t}=e.saveWord;n({variant:"success",text:"Word added",subText:`${t} is added successfully.`,targetLocation:`/${c._.words}`}),h(`/${c._.words}`)}}),[t.data]);return r.createElement(s.X,null,r.createElement(o.rU,{"data-cy":"backLink",className:i,to:`/${c._.words}`},r.createElement(o.JO,{width:16,height:16,id:"arrow-left"}),"Back to vocabulary"),r.createElement("h1",{className:l},"Add new word"),r.createElement(u.L,{initialValues:f,formConfig:p,validators:v,onSubmit:t=>{const n={...(0,g.X)(t),language:m};e({variables:{input:n}})}}))}},4826:(e,t,n)=>{function r(e){if(Array.isArray(e))return e.map(r);if("string"==typeof e)return e?.trim();if(null===e||"object"!=typeof e)return e;const t={...e};t?.__typename&&delete t.__typename;return Object.keys(t).forEach((e=>{const n=t[e];t[e]=r(n)})),t}function a(e){const{defs:t}=e;if(!t)return e;const n=t.map((e=>({def:e?.def,examples:e?.examples?.filter((e=>e?.text))}))).filter((e=>e?.def));return{...e,defs:n,shortDef:e?.shortDef?.filter(Boolean)}}n.d(t,{X:()=>a,o:()=>r})},3379:(e,t,n)=>{n.d(t,{D:()=>c});var r=n(2970),a=n(2784),o=n(8769),i=n(8807),l=n(7274),s=n(5832),u=n(6675);function c(e,t){var n=(0,u.x)(null==t?void 0:t.client);(0,l.Vp)(e,l.n_.Mutation);var c=a.useState({called:!1,loading:!1,client:n}),d=c[0],m=c[1],f=a.useRef({result:d,mutationId:0,isMounted:!0,client:n,mutation:e,options:t});Object.assign(f.current,{client:n,options:t,mutation:e});var p=a.useCallback((function(e){void 0===e&&(e={});var t=f.current,n=t.options,a=t.mutation,l=(0,r.pi)((0,r.pi)({},n),{mutation:a}),u=e.client||f.current.client;f.current.result.loading||l.ignoreResults||!f.current.isMounted||m(f.current.result={loading:!0,error:void 0,data:void 0,called:!0,client:u});var c=++f.current.mutationId,d=(0,o.J)(l,e);return u.mutate(d).then((function(t){var n,r,a=t.data,o=t.errors,l=o&&o.length>0?new s.cA({graphQLErrors:o}):void 0,p=e.onError||(null===(n=f.current.options)||void 0===n?void 0:n.onError);if(l&&p&&p(l,d),c===f.current.mutationId&&!d.ignoreResults){var v={called:!0,loading:!1,data:a,error:l,client:u};f.current.isMounted&&!(0,i.D)(f.current.result,v)&&m(f.current.result=v)}var g=e.onCompleted||(null===(r=f.current.options)||void 0===r?void 0:r.onCompleted);return l||null==g||g(t.data,d),t})).catch((function(t){var n;if(c===f.current.mutationId&&f.current.isMounted){var r={loading:!1,error:t,data:void 0,called:!0,client:u};(0,i.D)(f.current.result,r)||m(f.current.result=r)}var a=e.onError||(null===(n=f.current.options)||void 0===n?void 0:n.onError);if(a)return a(t,d),{data:void 0,errors:t};throw t}))}),[]),v=a.useCallback((function(){if(f.current.isMounted){var e={called:!1,loading:!1,client:n};Object.assign(f.current,{mutationId:0,result:e}),m(e)}}),[]);return a.useEffect((function(){return f.current.isMounted=!0,function(){f.current.isMounted=!1}}),[]),[p,(0,r.pi)({reset:v},d)]}}}]);